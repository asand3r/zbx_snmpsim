[supervisord]
nodaemon = true

[unix_http_server]
file = /var/run/supervisor.sock 

[supervisorctl]
serverurl = unix:///var/run/supervisor.sock

[rpcinterface:supervisor]
supervisor.rpcinterface_factory = supervisor.rpcinterface:make_main_rpcinterface

[program:etcd]
command = /usr/local/bin/etcd


[program:etcd_fill_0]
command = sh -c 'sleep 5; for i in `seq 1 3000`; do etcdctl set "key_$i" "value_i"; sleep 2; done; > /dev/null 2>&1'
autorestart = false

[program:etcd_fill_1]
command = sh -c 'sleep 6; for i in `seq 1 3000`; do etcdctl get "key_$i" ;  etcdctl rm "key_$i" ;  sleep 2; done; > /dev/null 2>&1'
autorestart = false

[program:etcd_fill_2]
command = sh -c 'sleep 6; for i in `seq 1 3000`; do curl  http://etcd32_1:2379/v2/keys/kk_$i -XPUT -d value="Hello world $i" ; sleep 2; done; > /dev/null 2>&1' 
autorestart = false